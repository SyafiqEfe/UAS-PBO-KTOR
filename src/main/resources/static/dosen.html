<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Dosen - Sistem Akademik</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
</head>
<body>
    <div class="dashboard">
        <div class="dashboard-header">
            <div class="user-info">
                <h2 id="dosen-name">Loading...</h2>
                <p id="dosen-nidn">NIDN: Loading...</p>
            </div>
            <button class="logout-btn" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i>
                Logout
            </button>
        </div>

        <div class="dashboard-grid">
            <div class="dashboard-card">
                <div class="card-header">
                    <i class="fas fa-chalkboard"></i>
                    <h3>Mata Kuliah</h3>
                </div>
                <div class="card-content">
                    <p>Lihat mata kuliah yang diampu</p>
                    <button class="btn" onclick="showSection('matkul')">
                        <i class="fas fa-list"></i>
                        Mata Kuliah Saya
                    </button>
                </div>
            </div>

            <div class="dashboard-card">
                <div class="card-header">
                    <i class="fas fa-users"></i>
                    <h3>Mahasiswa</h3>
                </div>
                <div class="card-content">
                    <p>Kelola data mahasiswa per mata kuliah</p>
                    <button class="btn" onclick="showSection('mahasiswa')">
                        <i class="fas fa-user-graduate"></i>
                        Lihat Mahasiswa
                    </button>
                </div>
            </div>

            <div class="dashboard-card">
                <div class="card-header">
                    <i class="fas fa-clipboard-check"></i>
                    <h3>Presensi</h3>
                </div>
                <div class="card-content">
                    <p>Input dan kelola presensi mahasiswa</p>
                    <button class="btn" onclick="showSection('presensi')">
                        <i class="fas fa-check-square"></i>
                        Kelola Presensi
                    </button>
                </div>
            </div>

            <div class="dashboard-card">
                <div class="card-header">
                    <i class="fas fa-star"></i>
                    <h3>Penilaian</h3>
                </div>
                <div class="card-content">
                    <p>Input dan kelola nilai mahasiswa</p>
                    <button class="btn" onclick="showSection('nilai')">
                        <i class="fas fa-graduation-cap"></i>
                        Kelola Nilai
                    </button>
                </div>
            </div>
        </div>

        <!-- Mata Kuliah Section -->
        <div id="matkul-section" class="section hidden">
            <div class="table-container">
                <div class="table-header">
                    <h3><i class="fas fa-chalkboard"></i> Mata Kuliah yang Diampu</h3>
                </div>
                <table id="matkul-table">
                    <thead>
                        <tr>
                            <th>Nama Mata Kuliah</th>
                            <th>SKS</th>
                            <th>Jam</th>
                            <th>Ruangan</th>
                            <th>Jumlah Mahasiswa</th>
                            <th>Aksi</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Data will be loaded here -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Mahasiswa Section -->
        <div id="mahasiswa-section" class="section hidden">
            <div class="form-container">
                <h3><i class="fas fa-filter"></i> Filter Mahasiswa</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>Pilih Mata Kuliah</label>
                        <select id="filter-matkul" onchange="loadMahasiswaByMatkul()">
                            <option value="">-- Pilih Mata Kuliah --</option>
                        </select>
                    </div>
                </div>
            </div>

            <div id="mahasiswa-list" class="table-container hidden">
                <div class="table-header">
                    <h3><i class="fas fa-users"></i> Daftar Mahasiswa</h3>
                </div>
                <table id="mahasiswa-table">
                    <thead>
                        <tr>
                            <th>NIM</th>
                            <th>Nama</th>
                            <th>Email</th>
                            <th>Presensi</th>
                            <th>Nilai</th>
                            <th>Aksi</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Data will be loaded here -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Presensi Section -->
        <div id="presensi-section" class="section hidden">
            <div class="form-container">
                <h3><i class="fas fa-clipboard-check"></i> Input Presensi</h3>
                <form id="presensi-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Mata Kuliah</label>
                            <select id="presensi-matkul" required>
                                <option value="">-- Pilih Mata Kuliah --</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Mahasiswa</label>
                            <select id="presensi-mahasiswa" required>
                                <option value="">-- Pilih Mahasiswa --</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Status Presensi</label>
                            <select id="presensi-status" required>
                                <option value="">-- Pilih Status --</option>
                                <option value="HADIR">Hadir</option>
                                <option value="SAKIT">Sakit</option>
                                <option value="IZIN">Izin</option>
                                <option value="ALPHA">Alpha</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-save"></i>
                            Simpan Presensi
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Nilai Section -->
        <div id="nilai-section" class="section hidden">
            <div class="form-container">
                <h3><i class="fas fa-star"></i> Input Nilai</h3>
                <form id="nilai-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Mata Kuliah</label>
                            <select id="nilai-matkul" required>
                                <option value="">-- Pilih Mata Kuliah --</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Mahasiswa</label>
                            <select id="nilai-mahasiswa" required>
                                <option value="">-- Pilih Mahasiswa --</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Nilai</label>
                            <select id="nilai-grade" required>
                                <option value="">-- Pilih Nilai --</option>
                                <option value="A">A (Sangat Baik)</option>
                                <option value="B">B (Baik)</option>
                                <option value="C">C (Cukup)</option>
                                <option value="D">D (Kurang)</option>
                                <option value="E">E (Gagal)</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-save"></i>
                            Simpan Nilai
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div id="loading" class="loading hidden">
        <div class="spinner"></div>
        <p>Loading...</p>
    </div>

    <script src="js/dosen.js"></script>
</body>
</html>
